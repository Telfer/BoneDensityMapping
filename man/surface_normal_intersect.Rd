% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/BoneDensityFunctions.R
\name{surface_normal_intersect}
\alias{surface_normal_intersect}
\title{Finds material properties of bone at surface point}
\usage{
surface_normal_intersect(
  surface_mesh,
  mapped_coords,
  normal_dist = 3,
  nifti,
  betaCT = 1,
  sigmaCT = 1,
  rev_x = FALSE,
  rev_y = FALSE,
  rev_z = FALSE
)
}
\arguments{
\item{surface_mesh}{List. Mesh data imported via ply_import function}

\item{mapped_coords}{Data frame. 3D coords of remapped surface points}

\item{normal_dist}{Numeric. Distance surface normal should penetrate surface}

\item{nifti}{Nifti}

\item{betaCT}{Numeric. Calibration value for CT to density calculation}

\item{sigmaCT}{Numeric. Calibration value for CT to density calculation}

\item{rev_x}{Logical.}

\item{rev_y}{Logical.}

\item{rev_z}{Logical.}
}
\value{
Vector. Vector with value for each point on surface
}
\description{
Finds material properties of bone at surface point
}
\examples{
# load required files
surface_mesh_path <- system.file("extdata", "test_CT_femur.stl",
                                 package = "BoneDensityMapping")
surface_mesh <- import_mesh(surface_mesh_path, updateNormals = TRUE)
nifti_path <- system.file("extdata", "test_CT_hip.nii",
                          package = "BoneDensityMapping")
nifti <- read_scan(nifti_path)
# Generate mapped surface coordinates using the surface_points_template function
mapped_coords <- surface_points_template(surface_mesh, landmarks,
                                         no_surface_sliders = 10)
mat_peak <- surface_normal_intersect(surface_mesh, mapped_coords,
                                     normal_dist = 3.0, nifti, betaCT = 1.0,
                                     sigmaCT = 1.0)
}
\author{
Scott Telfer \email{scott.telfer@gmail.com}
}
